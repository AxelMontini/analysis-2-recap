\documentclass[8pt,a4paper,twocolumn,table]{extarticle}
\usepackage[table]{xcolor}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage[margin=0.5cm]{geometry}
\usepackage{hyperref}
\setlength {\marginparwidth }{2cm}
\usepackage{todonotes}
\usepackage{xstring}
\usepackage{catchfile}
% \usepackage{layout}

\setlength{\columnsep}{1cm}
\setlength{\columnseprule}{0.2pt}
\setlength{\parskip}{0em}

\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}

\DeclareMathOperator{\arccot}{arccot}
\DeclareMathOperator{\acosh}{acosh}
\DeclareMathOperator{\asinh}{asinh}
\DeclareMathOperator{\atanh}{atanh}

\newtheorem{innercustomgeneric}{\customgenericname}
\providecommand{\customgenericname}{}
\newcommand{\newcustomtheorem}[2]{%
  \newenvironment{#1}[1]
  {%
   \renewcommand\customgenericname{#2}%
   \renewcommand\theinnercustomgeneric{##1}%
   \innercustomgeneric
  }
  {\endinnercustomgeneric}
}

\newcustomtheorem{definition}{Definition}

\newcustomtheorem{lemma}{Lemma}

\newcustomtheorem{theorem}{Theorem}
\newcustomtheorem{example}{Example}

\newcustomtheorem{corollary}{Corollary}
\newcustomtheorem{proposition}{Proposition}

\newcommand{\seq}[1]{\left( #1_n \right)_{n \ge 1}}

% Read branchname and commit id from HEAD, to be added to the document
\CatchFileDef{\headfull}{.git/HEAD}{}
\StrGobbleRight{\headfull}{1}[\head]
\StrBehind[2]{\head}{/}[\branch]
\IfFileExists{.git/refs/heads/\branch}{%
    \CatchFileDef{\commit}{.git/refs/heads/\branch}{}
}{%
    \newcommand{\commit}{\dots~(in \emph{packed-refs})}
}

\title{Analysis 2 Recap}
\author{Axel Montini \\ \href{mailto:amontini@student.ethz.ch}{amontini@student.ethz.ch}}
\date{\today \hfill \texttt{\branch}, \texttt{\commit}}

\begin{document}
\abovedisplayskip=0pt
\abovedisplayshortskip=0pt
\belowdisplayskip=0pt
\belowdisplayshortskip=0pt
\maketitle

\section{Linear differential equations}
\begin{definition}
    Linear Differential equation. Homogeneous if  $b = 0$, inhomogeneous otherwise.
    \[ y^{(k)} + a_{k-1} y^{(k-1)} + ... + a_1 y' + a_0 y = b \]
\end{definition}

\begin{theorem}{2.2.3}
    \dots $y$ is $k$-times differentiable \dots

    For the homogeneous equation, given a choice of $x_0$ and $(y_0, ..., y_{k-1})$
    there's a unique solution $f \in \mathcal{S}$ such that
    \begin{equation}\label{huifwegew4aTR} f(x_0) = y_0,\ f'(x_0) = y_1,\ \dots,\ f^{(k-1)}(x_0) = y_{k-1}  \end{equation}

    For the inhomogeneous equation with a $b$ continous on the interval, the set of solutions $\mathcal{S}_b$
    is the set of functions $f + f_0$ where $f \in \mathcal{S}$. Again, for any $x_0$ and $(y_0, ..., y_{k-1})$
    there's a unique solution such that (\ref{huifwegew4aTR}).

    If $b \ne 0$ then $\mathcal{S}_b$ is not a vector space.
\end{theorem}

\begin{proposition}{2.3.1}
    Any solution of $y' + ay = 0$ is in the form $f(x) = z e^{-A(x)}$, where $A$ is a primitive of $a$ and $z \in \C$.
    Unique solution is $f(x) = y_0 e^{A(x_0) - A(x)}$
\end{proposition}

To solve the inhomogeneous equation $y' + ay = b$, the prev solution is used.
Using \textit{Variation of the constant} we replace $z$ with $z(x)$ and then
$y' + ay = b \Leftrightarrow z'(x) = b(x)\ e^{A(x)}$ and $f_0(x) = C(x) e^{-A(x)}$, where
$C(x)$ is a primitive of $z'(x)$.

\subsection{Constant coefficients}
\begin{definition}
    Let $a_0, ..., a_{k-1} \in \C$. Linear differentian equation $y^{(k)} + a_{k-1}y^{(k-1)} + ... + a_1y' + a_0y = b$.
    Homogeneous solution is in the form $f(x) = e^{\alpha x},\ \alpha \in \C$. We have $f^{(j)}(x) = \alpha^j e^{\alpha x}$ for all $j \ge 0$ and $x$.

    Conclusion: $f(x)$ is a solution iff $P(\alpha) = 0$, where $P(X) = X^k + a_{k-1}X^{k-1} + ... + a_1X + a_0$.

    This polynomial of degree $k$ has $k$ roots (counted with multiplicity). There exist complex numbers $\alpha_1, ..., \alpha_k$
    such that $P(X) = (X - \alpha_1)...(X - \alpha_k)$. This is the \textit{companion} or \textit{characteristic polynomial} of the
    homogeneous diff. equation.
\end{definition}

\begin{itemize}
    \item No multiple roots
          When $\alpha_i \ne \alpha_j$ for all $i, j$.

          Solution of the homogeneous equation ($b = 0$): form $f(x) = z_1 e^{\alpha_1 x} + ... + z_k e^{\alpha_k x}$.
          Unique solution with $f(x_0) = y_0,\ ...,\ f^{(k-1)}(x_0) = y_{k-1}$ can be obtained by viewing $z_i$ as unknowns. Substitute $x = x_0$ in
          the formula for $f$ and solve for $z_1, ..., z_k$ (linear system).

    \item Multiple roots
          Assume $\alpha$ is a multiple root of order $j$ of the polynomial $P$, with $2 \le j \le k$. Then
          \[ f_{\alpha,0}(x) = e^{\alpha x},\ f_{\alpha,1}(x) = x e^{\alpha x},\ ...,\ f_{\alpha,j-1}(x) = x^{j-1} e^{\alpha x} \]
          are linearly independent and are solutions of the h.l.d.e.

          \begin{example}
              Suppose $P(X) = X(X - 4)^3(X - (1+i))(X - (1 - i))$, then the solutions are
              $f_0(x) = 1$ (sol. for $X=0$), $f_1(x) = e^{4x}$, $f_2(x) = xe^{4x}$, $f_3(x) = x^2 e^{4x}$,
              $f_4(x) = e^{(1+i) x}$, $f_5(x) = e^{(1-i) x}$
          \end{example}

\end{itemize}

Now the inhomogeneous equation ($b \ne 0$):

Should avoid variation of the constants. Can use special cases:
\begin{enumerate}
    \item $b(x) = x^d e^{\beta x}$ for some integer $d =ge 0$ and an item $\beta$ which is NOT a root of $P$, then
          the solution is of the form $f(x) = Q(x) e^{\beta x}$, where $Q$ is a polynomial of degree $d$.
    \item $b(x) = x^d \cos(\beta x)$ or $b(x) = x^d \sin(\beta x)$ for some integer $d \ge 0$ and $\beta$ is NOT a root of $P$, then
          one can transform it to a combination of complex exponentials or look for a solution of the form
          $f(x) = Q_1(x) \cos(\beta x) + Q_2(x) \sin(\beta x)$, $Q_1, Q_2$ have degree $d$.
    \item $b(x)$ is in the form of the previous two but IS a root of multiplicity $j$, then one looks for $f(x) = Q(x) e^{\beta x} $,
          with $Q$ of degree $q + j$.
    \item Special case $\beta = 0$ of the previous 3 ($b$ polynomial of degree $d \ge 0$): if $0$ is NOT a root, look for a
          solution $f$ (polynomial) of deg $d$, or degree $d + j$ if $0$ IS a root, where $j$ is the multiplicity of $0$.
\end{enumerate}

\subsection{Variation of the constants for degree ge 2}

Does not require the coefficients to be constants, but it makes it easier.

Inhomogeneous equation \[ y^{(k)} + a_{k-1} y^{(k - 1)} + ... + a_1 y' + a_0 y = b \]
Solutions $f_1, ..., f_k$ for the homogeneous equations must be found first.

We then search for a solution of the form $f(x) = z_1(x) f_1(x) + ... + z_k(x) f_k(x)$, such that we have (for all $x$):
\[
    \begin{cases}
        z_1'(x) f_1(x) + ... + z_k'(x) f_k(x) = 0   \\
        z_1'(x) f_1'(x) + ... + z_k'(x) f_k'(x) = 0 \\
        ...                                         \\
        z_1'(x) f_1^{(k-2)}(x) + ... + z_k'(x) f_k^{(k-2)}(x) = 0
    \end{cases}
\]

\begin{example}
    Case $k = 2$: Write again $f = z_1 f_1 + z_2 f_2$ and the constraint $z_1' f_1 + z_2' f_2 = 0$.
\end{example}

\begin{definition}{3.3.5}
    $f: X \mapsto \R $ has a partial derivative with respect to the $i$-th variable if the function
    \[ g(t) = f(x_{0,1}, ..., x_{0,i-1}, t, x_{0,i+1}, ..., x_{0,n}) \]
    is differentiable for all $x_0 \in X$ on the set $I = \left\{ t \in \R \mid (x_{0,1}, ..., x_{0,i-1}, t, x_{0,i+1}, ..., x_{0,n}) \in X \right\}$.

    Its derivative $g'(x_{0,i})$ is denoted
    \[ \frac{\partial f}{\partial x_i}(x_0),\ \partial_{x_i}(x_0),\ \partial_i (x_0) \]
\end{definition}

\begin{proposition}{3.3.7}
    $x \subset \R^n$ open, $f,g$ functions from $X$ to $\R^m$. Let $1 \le 1 \le n$.
    \begin{enumerate}
        \item if $f, g$ have partial derivatives of $i$-th coordinate on $X$, then $f + g$ also does.
              $\partial_{x_i}(f + g) = \partial_{x_i}(f) + \partial_{x_i}(g)$
        \item if the previous is true and $m = 1$, then $fg$ also does and $\partial_{x_i}(f g) = \partial_{x_i}(f) \cdot g + f \cdot \partial_{x_i}(g)$
        \item If the previous is true and $g(x) \ne 0$ for all $x \in X$, then $f / g$ has a partial derivative
              $\partial_{x_i}(f/g) = \left (\partial_{x_i}(f)g - f \partial_{x_i}(g) \right)/g^2$
    \end{enumerate}
\end{proposition}

\begin{definition}{3.3.9}
    $f: X \mapsto \R^m$ has partial derivatives on $X$. Write $f(x) = (f_1(x), f_2(x), ..., f_m(x))$.

    For any $x \in X$, the \textbf{Jacobi Matrix} ($m$ rows, $n$ columns) of $f$ at $x$ is defined as
    \[ J_f(x) = (\partial_{x_i} f_i(x))_{\stackrel{1 \le i \le m}{1 \le j \le n}} \]
\end{definition}

\begin{definition}{3.3.11}
    \begin{enumerate}
        \item If all partial derivatives of $f: X \mapsto \R$ exist at $x_0 \in X$, then the column vector
              \[ \nabla f(x_0) = \begin{pmatrix}
                      \partial_{x_1} f(x_0) \\
                      ...                   \\
                      \partial_{x_n} f(x_0)
                  \end{pmatrix} \]
              is called the \textbf{gradient} of $f$ at $x_0$.
        \item Let $f = (f_1, f_2, ..., f_n): X \mapsto \R^n$ and all partial derivatives of all coordinates $f_i$ of $f$ exist at $x_0 \in X$. Then
              \[ Tr(J_f(x_0)) = \sum_{i=1}^{n} \partial_{x_i} f_i(x_0) \]
              is the \textit{trace} of the Jacobi Matrix and is called the \textbf{divergence} of $f$ at $x_0$, also $div(f)(x_0)$
    \end{enumerate}

\end{definition}

\begin{definition}{3.4.2}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R^m$ be a function.
    Let $u$ be a linear map $\R^n \mapsto \R^m$ and $x_0 \in X$. We say that $f$ is \textit{differentiable} at
    $x_0$ with differential $u$ if
    \[ \lim_{\stackrel{x \to x_0}{x \ne 0}} \frac{1}{\Vert x - x_0 \Vert}(f(x) - f(x_0) - u(x - x_0)) = 0 \]
    We then denote $df(x_0) = u$. If it is differentiable at every $x_0 \in X$, then it is differentiable on $X$.

    Then, close to $x_0$, we can approximate $f(x)$ by $g(x) = f(x_0) + u(x - x_0)$
\end{definition}

\begin{proposition}{3.4.4}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R^m$ be a function differentiable on $X$. Then
    \begin{enumerate}
        \item $f$ is \textbf{continuous} on $X$.
        \item $f$ admits partial derivatives on $X$ with respect to each variable.
        \item Assume that $m = 1$. Let $x_0 \in X$ and $u(x_1, ..., x_n) = a_1 x_1 + ... + a_n x_n$ be the differential of $f$ at $x_0$.
              We then have $\partial_{x_i} f(x_0) = a_i$ for $1 \le i \le n$
    \end{enumerate}
\end{proposition}

\begin{proposition}{3.4.6}
    $X \subset R^n$ open, $f: x \mapsto R^m$, $g: X \mapsto R^m$ differentiable functions on $X$.
    \begin{enumerate}
        \item $f + g$ is differentiable on $X$ with differential $d(f + g) = df + df$.
        \item If $m = 1$, then $fg$ is differentiable. If we also have $g(x) \ne 0$ for all
              $x \in X$, then $f/g$ is differentiable.
    \end{enumerate}
\end{proposition}

\begin{proposition}{3.4.7}
    If $f$ has all partial derivatives on $X$ and they are all continuous on $X$, then $f$ is differentiable on $X$.
    The matrix of the differential $df(x_0)$ is the Jacobi Matrix of $f$ at $x_0$.
\end{proposition}

\begin{proposition}{3.4.9 (Chain Rule)}
    Let $X \subset \R^n$ and $Y \subset \R^m$ be open.
    Let $f: X \mapsto Y$ and $g: Y \mapsto R^p$ be differentiable functions.
    Then $g \circ f: X \mapsto \R^p$ is differentiable on $X$, and for any $x \in X$, its differential is given by
    \[ d(g \circ f)(x_0) = dg(f(x_0)) \circ df(x_0) \]
    The Jacobi Matrix satisfies
    \[ J_{g \circ f}(x_0) = J_g(f(x_0)) J_f(x_0)\ \mbox{(matrix product)}\]
\end{proposition}


\begin{definition}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R^m$ differentiable.
    Let $x_0 \in X$ and $u = df(x_0)$ be the differential of $f$ at $x_0$. The graph of the affine linear approximation
    \[ g(x) = f(x_0) + u(x - x_0) \]
    from $\R^n$ to $\R^m$, or in other words the set
    \[ \left\{ (x,y) \in \R^n \times \R^m \mid y = f(x_0) + u(x - x_0) \right\} \]
    is called the \textbf{tangent space} at $x_0$ to the graph of $f$.
\end{definition}

\begin{definition}{3.4.13 (Directional Derivative)}
    Let $X \subset \R^n$ be open, $f: X \mapsto \R^m$ a function.

    Let $v \in \R^n$ be a non-zero vector and $x_0 \in X$.

    We say that $f$ has \textbf{directional derivative} $w \in \R^m$ in the direction $v$
    if the function $g$ defined on the set $I$ has a derivative at $t = 0$ and this is equal to $w$.
    \[ g(t) = f(x_0 + tv), \quad I = \left\{ t \in \R \mid x_0 + tv \in R \right\} \]

    Other words: limit is equal to $w$
    \[ \lim_{\stackrel{t \to 0}{t \ne 0}} \frac{f(x_0 + tv) - f(x_0)}{t} \]
\end{definition}

\begin{proposition}{3.4.15}
    $X$ open, $f$ differentiable. Then for any $x_0 \in X$ and non-zero $v$, the function has
    a directional derivative at $x_0$ in the direction $v$, equal to $df(x_0)(v)$
\end{proposition}

\begin{definition}{3.5.1}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R^m$.
    We say that $f$ is of class:
    \begin{itemize}
        \item $C^1$ is differentiable on $X$ and all partial derivatives are continuous.
        \item $C^k$ if differentiable on $X$ and all partial derivatives $\partial_{x_i}f: X \mapsto \R^m$ are of class $C^{k-1}$.
        \item $C^\infty$ if $f \in C^k(X;\R^m)$ for all $k \ge 1$
    \end{itemize}
    Set of functions of class $C^k$ from $X$ to $\R^m$ is denoted $C^k(X; \R^m)$
\end{definition}

\begin{proposition}{3.5.4 (Mixed derivatives commute)}
    $X \subset \R^n$ open and $f: X \mapsto \R^m$ of class $C^k$. Then the partial derivatives
    of order $k$ are independent of the order in which the partial derivatives are taken: for any variables
    $x_1, x_2, ..., x_n$ we have
    \[ \partial_{x_1, x_2, ..., x_n}f = \partial_{x_2, x_1, ..., x_n}f = ...   \ \mbox{(all combinations)}\]
\end{proposition}

\begin{definition}{3.5.9 (Hessian)}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R$ a $C^2$ function.
    For $x \in X$, the \textbf{Hessian matrix} of $f$ at $x$ is the \textbf{symmetrix square} matrix
    \[ \mathit{H}_f(x) = \mathrm{Hess}_f(x) = (\partial_{x_i, x_j}f)_{1 \le i, j \le n} \]
\end{definition}

\begin{example}{(Change of variable)}
    Idea: create $h$, which is $f$ on a different coordinate system.

    Open set $U \subset \R^n$ containing the new variables $(y_1, ..., y_n)$ and a change of variable $g: U \mapsto X$
    that expresses $(x_1, ..., x_n)$ in terms of $(y_1, ..., y_n)$.

    Consider $x_1 = g_1(y_0, ..., y_n),\quad x_n = g_n(y_1, ..., y_n)$

    Composite $h = f \circ g: U \mapsto \R$ is the function $f$ expressed in terms of the new variables $y$.

    Polar coordinates: Map $g: U \mapsto \R^2,\ g(r, \theta) = (r \cos \theta, r \sin \theta)$.
    Replace $f$ by $h$: $h(r, \theta) = f(r \cos \theta, r \sin \theta)$.
    \[ J_g(r, \theta) = \begin{pmatrix}
            \cos \theta & - r \sin \theta \\
            \sin \theta & r \cos \theta
        \end{pmatrix} \]
\end{example}

\subsection{Taylor Polynomials}
\begin{definition}{3.7.1 (Taylor polynomials)}
    Let $k \ge 1$ be an integer, $f: X \mapsto \R$ a function of class $C^k$ on $X$, and fix $x_0 \in X$. The
    $k$-th Taylor polynomial of $f$ at point $x_0$ is the poly in $n$ variables of degree $\le k$ given by
    \begin{align*}
        T_k f(y;x_0) = & f(x_0) + \sum_{i=1}^n \frac{\partial f}{\partial x_i}(x_0)y_i + ...                                                                          \\
                       & + \sum_{m_1 + ... + m_n = k} \frac{1}{m_1!...m_n!} \frac{\partial^k f}{\partial x_1^{m_1} ... \partial x_n^{m_n}} (x_0)y_1^{m_1}...y_n^{m_n}
    \end{align*}
    where the last sum ranges over the tuples of $n$ positive integers such that the sum is $k$.

    Case $n=1$ (one variable):
    \[ T_k f(y; x_0) = f(x_0) + f'(x_0)y + \frac{f''(x_0)}{2}y^2 + ... + \frac{f^{(k)}(x_0)}{k!}y^k \]
\end{definition}

\begin{proposition}{3.7.3 (Taylor Approximation)}
    $k \ge 1$, $X \subset \R^n$ open, $f: X \mapsto \R$ a $C^k$ function. For $x_0$ in $X$, we define $E_k f(x;x_0)$ by
    \[ f(x) = T_k f(x - x_0;x_0) + E_k f(x;x_0) \]
    then we have
    \[ \lim_{\stackrel{x \to x_0}{x \ne x_0}} \frac{e_k f(x;x_0)}{\Vert x - x_0 \Vert^k} = 0 \]
\end{proposition}


\subsection{Critical Points}
\begin{proposition}{3.8.1}
    Let $X \subset \R^n$ be open and $f: X \mapsto \R$ be differentiable.
    If $x_0 \in X$ is a local maximum or a local minimum, then we have (equivalent) for $1 \le i \le n$:
    \[ df(x_0) = 0,\ \nabla f(x_0) = 0,\ \frac{\partial f}{\partial x_i}(x_0) = 0 \]
\end{proposition}

\begin{definition}{3.8.2 (Critical Point)}
    Let $X$ be open and $f$ be differentiable.
    A point $x_0$ is called a \textbf{critical point} of $f$ if $\nabla f(x_0) = 0$.
\end{definition}

\begin{definition}{3.8.6 (Non-degenerate critical point)}
    $f$ of class $C^2$. A critical point $x_0$ is \textbf{non-degenerate} if the Hessian matrix has non-zero determinant.
\end{definition}

\begin{corollary}{3.8.7}
    $X$ open and $f: X \mapsto \R$ of class $C^2$. Let $x_0$ be a non-degenerate critical point of $f$. Let $p, q$ be the number of positive and negative eigenvalues of $Hess_f (x_0)$
    \begin{enumerate}
        \item if $p = n$, equivalently if $q = 0$, the function $f$ has a local minimum at $x_0$.
        \item if $q = n$, equivalently if $p = 0$, $f$ has a local maximum at $x_0$.
        \item Otherwise, the function $f$ does not have a local extremum at $x_0$, equivalently it has a saddle point at $x_0$.
    \end{enumerate}
\end{corollary}

\section{Limit Cheat Sheet}
% Math column
\newcolumntype{M}{>{$\displaystyle}c<{$}}
    \newcolumntype{L}{>{$\displaystyle}l<{$}}
\newcolumntype{R}{>{$\displaystyle}r<{$}}

\[ x \in \R,\quad a,b \in \R^+,\quad n \in \N \]
{\renewcommand{\arraystretch}{1.4}
\begin{tabular}{| M | M |}
    \hline
    \lim_{n \to \infty} a^n = +\infty\ \mbox{if}\ a > 1
                                                               &
    \lim_{n \to \infty} a^n = 0\ \mbox{if}\ 0 < a < 1            \\
    \lim_{n \to \infty} \sqrt[n]{n} = 1
                                                               &
    \lim_{n \to \infty} \sqrt[n]{a}\ \mbox{if}\ a > 0
    \\
    \lim_{n \to \infty} \left( 1 + \frac{x}{n} \right)^n = e^x &
    \\
    \hline
    \lim_{x \to 0} \frac{\sin x}{x} = 1
                                                               &
    \lim_{x \to 0} \frac{\tan x}{x} = 1
    \\
    \hline
    \lim_{x \to \infty} \frac{\ln^b(x)}{x^a} = 0
                                                               &
    \lim_{x \to 0} x^a \ln^b(x) = 0
    \\
    \lim_{x \to \infty} \frac{e^{ax}}{x^b} = +\infty
                                                               &
    \lim_{x \to \infty} \frac{x^b}{e^{ax}} = 0                   \\
    \hline
\end{tabular}}


\section{Derivative Cheat Sheet}

Properties
\begin{alignat*}{2}
     & (cf)' = c f'(x)     & (f \pm g)' = f'(x) \pm g'(x)                       \\
     & (fg)' = f'g + fg'   & (\frac{f}{g})' = \frac{f'g - fg'}{g^2}             \\
     & \frac{d}{dx}(c) = 0 & \frac{d}{dx}\left( g(f(x)) \right) = g'(f(x))f'(x)
\end{alignat*}
{\renewcommand{\arraystretch}{1.1}
\begin{tabular}{| R | L |}
    \hline
    \rowcolor{lightgray} f(x)      & f'(x)                                                    \\
    \hline
    x                              & 1                                                        \\
    x^n                            & nx^{n-1}                                                 \\
    e^x                            & e^x                                                      \\
    a^x                            & a^x \ln a                                                \\
    \sqrt{x}                       & \frac{1}{2\sqrt{x}},\ x \ne 0                            \\
    \frac{1}{x}                    & -\frac{1}{x^2}                                           \\
    |x|                            & x > 0 \implies 1,\ \mbox{or}\ x < 0 \implies -1, x \ne 0 \\
    \ln(x)                         & \frac{1}{x}                                              \\
    \log_a(x) = \frac{1}{x \ln(a)} &                                                          \\
    \hline % trig
    \sin(x)                        & \cos(x)                                                  \\
    \cos(x)                        & -\sin(x)                                                 \\
    \tan(x)                        & \frac{1}{\cos^2(x)} = 1 + \tan^2(x)                      \\
    \cot(x)                        & - \frac{1}{\sin^2(x)} = -1 - \cot^2(x)                   \\
    \arcsin x                      & \frac{1}{\sqrt{1 - x^2}}                                 \\
    \arccos x                      & -\frac{1}{\sqrt{1 - x^2}}                                \\
    \arctan x                      & \frac{1}{1 + x^2}                                        \\
    \arccot(x)                     & - \frac{1}{1 + x^2}                                      \\
    \hline % hyperb
    \sinh(x)                       & \cosh(x)                                                 \\
    \cosh(x)                       & \sinh(x)                                                 \\
    \tanh(x)                       & \frac{1}{\cosh^2(x)} = 1 - \tanh^2(x)                    \\
    \coth(x)                       & -\frac{1}{\sin^2(x)} = 1 - \coth^2(x)                    \\
    \asinh(x)                      & \frac{1}{\sqrt{x^2 + 1}}                                 \\
    \acosh(x)                      & \frac{1}{\sqrt{x^2 - 1}}                                 \\
    \atanh(x)                      & \frac{1}{1 - x^2}                                        \\
    \hline
\end{tabular}}

\section{Integral Cheat Sheet}

\[ \int f(x)dx = F(x) + C \]

\begin{tabular}{| l | L |}
    \hline
    Per parti                                                                & \int f'(x)g(x)dx = f(x)g(x) - \int f(x)g'(x)dx        \\
    \hline
    \multicolumn{1}{|p{2.2cm}|}{Per sostituzione immediata}                  & \int g(f(x))f'(x)dx = G(f(x)) + C                     \\
    \hline
    \multicolumn{1}{|p{2.2cm}|}{Per sostituzione (cambiamento di variabile)} & \int g(x)dx = \int g(f(t)) f'(t) dt                   \\
                                                                             & \mbox{with}\ x = f(t)                                 \\
    \hline
    \multicolumn{1}{|p{2.2cm}|}{Integrale logaritmico}                       & \int \frac{f'(x)}{f(x)} dx = \ln \Big| f(x) \Big| + C \\
    \hline
\end{tabular}

{\renewcommand{\arraystretch}{1}
\begin{tabular}{| M | M |}
    \hline
    \rowcolor{lightgray} f(x)  & F(X) (without + C)                                                              \\
    \hline
    a                          & ax                                                                              \\
    x^n                        & \frac{x^{n + 1}}{n + 1}                                                         \\
    \frac{1}{x}                & \ln |x|                                                                         \\
    \sqrt{x}                   & \frac{2}{3}x\sqrt{x}                                                            \\
    \frac{1}{\sqrt{x}}         & 2 \sqrt{x}                                                                      \\
    \frac{1}{(x - a)(x - b)}   & \frac{1}{a - b}\ln \left| \frac{x - a}{x - b}\right|                            \\
    \frac{ax + b}{cx + d}      & \frac{ax}{c} - \frac{ad - bc}{c^2}\ln |cx + d|                                  \\
    \frac{1}{x^2 + a^2}        & \frac{1}{a} \arctan\left( \frac{x}{a} \right)                                   \\
    \frac{1}{x^2 - a^2}        & \frac{1}{2a} \ln \left| \frac{x - a}{x + a}\right|                              \\
    \hline
    e^x                        & e^x                                                                             \\
    \ln(x)                     & x(\ln(x) - 1)                                                                   \\
    a^x                        & \frac{a^x}{\ln(a)}                                                              \\
    \log_a(x)                  & x(\log_a(x) - \log_a(e))                                                        \\
    xe^{ax}                    & \frac{1}{a^2}(ax - 1)e^{ax}                                                     \\
    x\ln(ax)                   & \frac{x^2}{4}(2\ln(ax) - 1)                                                     \\
    \hline
    \sin(x)                    & -\cos(x)                                                                        \\
    \arcsin(x)                 & x\arcsin(x) + \sqrt{1 - x^2}                                                    \\
    \cos(x)                    & \sin(x)                                                                         \\
    \arccos(x)                 & x\arccos(x) - \sqrt{1 - x^2}                                                    \\
    \tan(x)                    & -\ln|\cos(x)|                                                                   \\
    \arctan(x)                 & x\arctan(x) - \frac{1}{2}\ln(1+x^2)                                             \\
    \cot(x)                    & \ln|\sin(x)|                                                                    \\
    \arccot(x)                 & x\arccot(x) + \frac{1}{2}\ln(1+x^2)                                             \\
    \hline
    \sin^2(x)                  & \frac{1}{2}(x - \sin(x)\cos(x))                                                 \\
    \cos^2(x)                  & \frac{1}{2}(x + \sin(x)\cos(x))                                                 \\
    \tan^2(x)                  & \tan(x) - x                                                                     \\
    \hline
    \sqrt{x^2 + a}             & \frac{1}{2}x\sqrt{x^2 + a} + \frac{a}{2}\ln \left| x + \sqrt{x^2} + a \right|   \\
    \frac{1}{\sqrt{x^2 + a}}   & \ln \left| x + \sqrt{x^2 + a}\right|                                            \\
    \sqrt{r^2 - x^2}           & \frac{1}{2}x\sqrt{r^2 - x^2} + \frac{r^2}{2} \arcsin \left( \frac{x}{r} \right) \\
    \frac{1}{\sqrt{r^2 - x^2}} & \arcsin\left( \frac{x}{r} \right)                                               \\
    \hline
\end{tabular}}

\todo[inline]{More?}

\end{document}